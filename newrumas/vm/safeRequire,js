let used = false;

function safeRequire(path) {
    if (used) {
        throw new Error('safeRequire can be used only once');
    }
    used = true;

    const mod = require(path);
    return mod;
}

module.exports = {
    safeRequire
}